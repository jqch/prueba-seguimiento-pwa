<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#F0DB4F">
    <meta name="MobileOptimized" content="width">
    <meta name="HandheldFriendly" content="true">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="" content="">
    <meta name="" content="">

    <title>Mi PWA</title>

    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="./img/icono.png">
    <link rel="apple-touch-startup-image" href="./img/icono.png">
    <link rel="manifest" href="./manifest.json">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- leaflet fullscreen -->

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>

    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Proyectos Proyectos</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Pricing</a>
            </li>
          </ul>
          <span class="navbar-text">
            Navbar text with an inline element
          </span>
        </div>
      </nav>
    <div class="container p-3" id="my-app">
        <v-app>
        <v-main>
            
            <div v-show="loading" id="overlayer"></div>
            <div v-show="loading" class="spinner">
                <div class="rect1"></div>
                <div class="rect2"></div>
                <div class="rect3"></div>
                <div class="rect4"></div>
                <div class="rect5"></div>
            </div>

            <h3>Seguimiento</h3>
        
            <div class="row">
                <div class="col-lg-4">
                    <div class="m-portlet m-portlet--mobile m-portlet--body-progress-">
                        <div class="m-portlet__body amchart_body">
                            <h5>Proyectos por Entidad Ejecutora</h5>
                            <div id="chartdiv"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="m-portlet m-portlet--mobile m-portlet--body-progress-">
        
                        <div class="m-portlet__body amchart_body">
                            <h5>Proyectos por Programa</h5>
                            <div id="chartdiv1"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="m-portlet m-portlet--mobile m-portlet--body-progress-">
        
                        <div class="m-portlet__body amchart_body">
                            <h5>Proyectos por Sector</h5>
                            <div id="chartdiv2"></div>
                        </div>
                    </div>
                </div>
            </div>
        
        
            <div class="m-portlet m-portlet--mobile m-portlet--body-progress-">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Proyectos SISIN
                                <small> - Detalle de proyectos</small>
                            </h3>
                        </div>
                    </div>
                </div>
                <div class="m-portlet__body">
                    <div class="filters">
                        <v-row>
                            <v-col
                            cols="12"
                            sm="6"
                            md="4"
                            >
                                <v-select
                                    v-model="departamento"
                                    :items="departamentos"
                                    item-text="nombre"
                                    item-value="itemId"
                                    label="Departamento"
                                ></v-select>
                            </v-col>
                            <v-col
                            cols="12"
                            sm="6"
                            md="4"
                            >
                                <v-select
                                    v-model="provincia"
                                    :items="provincias"
                                    item-text="nombre"
                                    item-value="itemId"
                                    label="Provincia"
                                ></v-select>
                            </v-col>
                            <v-col
                            cols="12"
                            sm="6"
                            md="4"
                            >
                                <v-select
                                    v-model="municipio"
                                    :items="municipios"
                                    item-text="nombre"
                                    item-value="itemId"
                                    label="Municipio"
                                ></v-select>
                            </v-col>
                        </v-row>
                    </div>
        
        
                    <template>
                        <v-card>
                            <v-card-title>
                                <v-spacer></v-spacer>
                                <v-text-field
                                    v-model="search"
                                    append-icon="mdi-magnify"
                                    label="Buscar"
                                    single-line
                                    hide-details
                                ></v-text-field>
                            </v-card-title>
                            <v-data-table
                                :headers="headers"
                                :items="projects"
                                :search="search"
                                :items-per-page="7"
                                :footer-props="{
                                    'items-per-page-text':'Proyectos por página'
                                }"
                            >
                                <!-- Código sisin -->
                                <template v-slot:item.f2="{ item }"> 
                                    <v-chip
                                        color="darkblue"
                                        dark
                                        @click="info(item)"
                                    >
                                        %% item.f2 %%
                                    </v-chip>
                                </template>
                                <!-- Nombre -->
                                <template v-slot:item.f3="{ item }">
                                    <div style="width: 200px">
                                        %% item.f3 %%
                                    </div>
                                </template>
                                <!-- Ubicación -->
                                <template v-slot:item.f4="{ item }">
                                    <a href="https://www.google.com.bo/maps/@-16.528444,-68.1081294,18z?hl=es" target="_blank"><i class="flaticon-map-location"></i> Ver Ubicación</a>
                                </template>
                            </v-data-table>
                        </v-card>
                    </template>
                </div>
            </div>
        
            <div v-if="project != ''" class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="m-portlet m-portlet--brand m-portlet--head-solid-bg">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
                                            <i class="flaticon-eye"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Ficha Técnica
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" m-dropdown-toggle="hover">
                                            <a href="#" class="m-portlet__nav-link m-portlet__nav-link--icon m-portlet__nav-link--icon-xl" data-dismiss="modal" aria-label="Close">
                                                <i class="la la-close m--font-light"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <h2>%% project.f2 %%</h2>
                                    </div>
                                    <div class="col-md-8">
                                        <div id="chartdivpie"></div>
                                    </div>
                                </div>
                                Código SISIN: %% project.f2 %%
                                <table>
                                    <tr v-for="(item, index) in project" :key="index">
                                        <td>%% index %%</td>
                                        <td>%% item %%</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </v-main>
        </v-app>
    </div>

    <script src="./js/index.js"></script>
    
    <script>
        if('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js', {scope: '/prueba-seguimiento-pwa/'})
                .then(reg => console.log('Registro de SW exitoso', reg))
                .catch(err => console.log('Error al registrar el sw', err))
        }
    </script>

    <!-- <script src="./js/app.js"></script> -->
</body>
</html>